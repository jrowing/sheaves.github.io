---
layout: post
title: Lattice of Subgroups
tag: 
- Subgroup Lattices
---

This is the first in a series of posts on visualizing groups via their lattice of subgroups.

![Lattice of the dihedral group $D_4$](/images/D4LatticeWhite.png "Lattice of the dihedral group $D_4$.")

<!--more-->

# Displaying the Lattice of Subgroups

One way of getting a better understanding of a group is by considering its subgroups. The [lattice of subgroups](http://en.wikipedia.org/wiki/Lattice_of_subgroups) (more precisely, the [Hasse diagram](http://en.wikipedia.org/wiki/Hasse_diagram) of this lattice) gives us a way to visualize how these subgroups relate to each other and to their parent group. Here's how to do it in Sage:

*(The Sage cells in this post are linked, so things may not work if you don't execute them in order.)*

<div class="linked">
  <script type="text/x-sage">
# Define group and generate list of subgroups of the group
G = DihedralGroup(4)
subgroups = G.subgroups()

# Define f(h,k) = True iff h is a subgroup of k
f = lambda h,k: h.is_subgroup(k)

# Define and display the poset
P = Poset((subgroups, f))
P.plot(label_elements=False, vertex_shape= 'H', vertex_size = 800, vertex_colors = 'white')
  </script>
</div>

By default, the vertex labels of the Hasse diagram will be the description of the object that the vertex represents. In our case, something like `Subgroup of (Dihedral group of order 8 as a permutation group) generated by [(1,2)(3,4)]`, which would be way too long to display nicely. Because of this, in the above code, I've decided not to label the vertices. I've also chosen to make the vertices hexagonal and white.

# Relabelling vertices
Without labels, it can be hard to tell what subgroups we're looking at. We can define new labels for these vertices by defining a [dictionary](https://docs.python.org/2/tutorial/datastructures.html#dictionaries) where the keys are the original vertices and their corresponding values are our new labels.

## Labelling by generators
One way to tell what the subgroups are is to look at their generators:

<div class="linked">
  <script type="text/x-sage">
# Label by generators
label = {x : str(x.gens())[1:-1] for x in subgroups}

# Display the poset with new labels
P.plot(element_labels = label, vertex_shape= 'H', vertex_size = 800, vertex_colors = 'white')
  </script>
</div>

This isn't very pretty, and just knowing the generators doesn't give us much intuition about the group.

## Labelling by cardinalities
Alternatively, we could label the subgroups by their cardinalities:

<div class="linked">
  <script type="text/x-sage">
# Label by size
label = {x : str(len(x)) for x in subgroups}
P.plot(element_labels = label, vertex_shape= 'H', vertex_size = 800, vertex_colors = 'white')
  </script>
</div>

If you ran the preceding code, you probably encountered an error message. This is because Sage currently requires that vertex labels be injective i.e. distinct vertices must have distinct labels. There's a quick but slightly ugly fix for this: just pad spaces around the labels to make them all unique:

<div class = "linked">
  <script type="text/x-sage">
# Label by size
label = {subgroups[i] : " "*floor(i/2) + str(len(subgroups[i])) + " "*i for i in range(len(subgroups))}
P.plot(element_labels = label, vertex_shape= 'H', vertex_size = 800, vertex_colors = 'white')
  </script>
</div>

## Labelling by structure description
However, cardinalities still don't tell me very much about the subgroup. Fortunately, Sage has a method for describing the structure of a small group: `H.structure_description()` where `H` is the group in question.

This code was used to produce the image at the start of this post:

<div class="linked">
  <script type="text/x-sage">
# Define group and list of subgroups
G = DihedralGroup(4)
subgroups = G.subgroups()

# Label using structure_description()
label = {subgroups[i]: " "*floor(i/2) + subgroups[i].structure_description()  + " "*i for i in range(len(subgroups))}

# Display poset
G_Poset = Poset((subgroups,lambda h,k: h.is_subgroup(k)))
G_Poset.plot(vertex_colors = "white", element_labels = label, vertex_size= 800, vertex_shape='H', layout='acyclic').show()
  </script>
</div>

# More examples
Try playing around with different groups and different labelling methods!

<div class="auto">
  <script type="text/x-sage">
# Some small groups
KQ   = [KleinFourGroup(), QuaternionGroup()]
Symm = [SymmetricGroup(N) for N in [1,2,3]]
Alte = [AlternatingGroup(N) for N in [3,4]]
Cycl = [CyclicPermutationGroup(N) for N in [8,12,30,60]]
Dicy = [DiCyclicGroup(N) for N in [3,4,5]]
Dihe = [DihedralGroup(N) for N in [4,5,6,7,8]]

group_list = KQ + Symm + Alte + Cycl + Dicy + Dihe

@interact
def subgroup_lattices(Group = selector(values = group_list, buttons=False),
                      Label = selector(values =['None','Generators', 'Cardinality','Structure Description'], default='Cardinality', buttons=False)):
    # Define group and list of subgroups
    G = Group
    subgroups = G.subgroups()
    
    # Define labels
    label_elements = True
    if Label == 'None':
        label_elements = False
        element_labels = None
    elif Label == 'Generators':        
        element_labels = {x : str(x.gens())[1:-1] for x in subgroups}
    elif Label == 'Cardinality':
        element_labels = {subgroups[i] : " "*floor(i/2) + str(len(subgroups[i])) + " "*i for i in range(len(subgroups))}
    elif Label == 'Structure Description':
        element_labels = {subgroups[i]: " "*floor(i/2) + subgroups[i].structure_description()  + " "*i for i in range(len(subgroups))}
    
    # Define and display poset
    P = Poset((subgroups, lambda h,k: h.is_subgroup(k) ))
    P.plot(label_elements=label_elements, element_labels = element_labels, vertex_shape= 'H', vertex_size = 800, vertex_colors = 'white').show()    
  </script>
</div>

And here are some questions that might arise while playing around with subgroup lattices:

- In the code, I've technically only defined the [poset](http://en.wikipedia.org/wiki/Partially_ordered_set) of subgroups. However, it turns out the poset of subgroups is also always a  [lattice](http://en.wikipedia.org/wiki/Lattice_%28order%29). Why?
- When is the subgroup lattice also [distributive](http://en.wikipedia.org/wiki/Distributive_lattice)?
- When is the subgroup lattice a [chain](http://en.wikipedia.org/wiki/Total_order)?

In the next post, we'll add some color to the subgroup of lattices by coloring the subgroups according to properties they have.
